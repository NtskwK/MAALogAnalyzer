# ğŸš€ GitHub Actions è‡ªåŠ¨æ‰“åŒ…éƒ¨ç½²æ–‡æ¡£

## ğŸ“‹ å·²é…ç½®çš„æ–‡ä»¶

### GitHub Actions å·¥ä½œæµ
- âœ… `.github/workflows/build.yml` - è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒå·¥ä½œæµ
- âœ… `.github/workflows/pr-check.yml` - PR æ£€æŸ¥å·¥ä½œæµ
- âœ… `.github/workflows/README.md` - å·¥ä½œæµè¯´æ˜æ–‡æ¡£
- âœ… `.github/RELEASE_GUIDE.md` - å‘å¸ƒæŒ‡å—

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ¬¡å‘å¸ƒ

1. **æ¨é€ä»£ç åˆ° GitHub**
   ```bash
   git add .
   git commit -m "feat: æ·»åŠ  GitHub Actions è‡ªåŠ¨æ„å»ºé…ç½®"
   git push
   ```

2. **åˆ›å»ºç¬¬ä¸€ä¸ªç‰ˆæœ¬**
   ```bash
   # åˆ›å»ºæ ‡ç­¾
   git tag -a v1.0.0 -m "é¦–æ¬¡å‘å¸ƒ"
   
   # æ¨é€æ ‡ç­¾
   git push origin v1.0.0
   ```

3. **ç­‰å¾…æ„å»ºå®Œæˆ**
   - è®¿é—®ä½ çš„ GitHub ä»“åº“
   - ç‚¹å‡» "Actions" æŸ¥çœ‹æ„å»ºè¿›åº¦
   - å¤§çº¦ 20-30 åˆ†é’Ÿåï¼Œæ‰€æœ‰å¹³å°çš„æ„å»ºå°†å®Œæˆ

4. **æŸ¥çœ‹å‘å¸ƒ**
   - ç‚¹å‡» "Releases" æ ‡ç­¾
   - ä½ å°†çœ‹åˆ°æ–°åˆ›å»ºçš„ v1.0.0 ç‰ˆæœ¬
   - æ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…å·²è‡ªåŠ¨ä¸Šä¼ 

## ğŸ“¦ æ„å»ºäº§ç‰©è¯´æ˜

### Windows å¹³å°
- `MAA-æ—¥å¿—åˆ†æå™¨_1.0.0_x64_en-US.msi` - Windows å®‰è£…ç¨‹åºï¼ˆæ¨èï¼‰
- `MAA-æ—¥å¿—åˆ†æå™¨_1.0.0_x64-setup.exe` - Windows å®‰è£…ç¨‹åºï¼ˆæ›¿ä»£ï¼‰

### macOS å¹³å°
- `MAA-æ—¥å¿—åˆ†æå™¨_1.0.0_universal.dmg` - macOS ç£ç›˜é•œåƒï¼ˆæ¨èï¼Œæ”¯æŒ Intel å’Œ M1/M2ï¼‰
- `MAA-æ—¥å¿—åˆ†æå™¨_1.0.0_universal.app.tar.gz` - macOS åº”ç”¨å‹ç¼©åŒ…

### Linux å¹³å°
- `maa-log-analyzer_1.0.0_amd64.AppImage` - AppImage æ ¼å¼ï¼ˆæ¨èï¼‰
- `maa-log-analyzer_1.0.0_amd64.deb` - Debian/Ubuntu åŒ…

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°æµç¨‹

### 1. æ›´æ–°ç‰ˆæœ¬å·

éœ€è¦åŒæ­¥æ›´æ–°ä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶ä¸­çš„ç‰ˆæœ¬å·ï¼š

**package.json**
```json
{
  "version": "1.1.0"
}
```

**src-tauri/Cargo.toml**
```toml
[package]
version = "1.1.0"
```

**src-tauri/tauri.conf.json**
```json
{
  "package": {
    "version": "1.1.0"
  }
}
```

### 2. æäº¤å¹¶å‘å¸ƒ

```bash
# æäº¤æ›´æ”¹
git add .
git commit -m "chore: bump version to v1.1.0"
git push

# åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag -a v1.1.0 -m "Release v1.1.0"
git push origin v1.1.0
```

## ğŸ› ï¸ æœ¬åœ°æµ‹è¯•

åœ¨æ¨é€æ ‡ç­¾å‰ï¼Œå»ºè®®å…ˆæœ¬åœ°æµ‹è¯•ï¼š

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼è¿è¡Œ
pnpm run tauri:dev

# æœ¬åœ°æ„å»ºæµ‹è¯•
pnpm run tauri build
```

æ„å»ºå®Œæˆåï¼Œå®‰è£…åŒ…ä½äºï¼š
- `src-tauri/target/release/bundle/`

## âš™ï¸ å·¥ä½œæµåŠŸèƒ½

### build.ymlï¼ˆæ„å»ºå‘å¸ƒï¼‰
- **è§¦å‘æ–¹å¼**ï¼š
  - è‡ªåŠ¨ï¼šæ¨é€ `v*` æ ¼å¼çš„æ ‡ç­¾ï¼ˆå¦‚ `v1.0.0`ï¼‰
  - æ‰‹åŠ¨ï¼šåœ¨ Actions é¡µé¢ç‚¹å‡» "Run workflow"
  
- **æ„å»ºå¹³å°**ï¼š
  - Windows (windows-latest)
  - macOS (macos-latest) - Universal Binary
  - Linux (ubuntu-22.04)
  
- **è‡ªåŠ¨æ“ä½œ**ï¼š
  - åœ¨æ‰€æœ‰å¹³å°ä¸Šæ„å»ºåº”ç”¨
  - åˆ›å»º GitHub Release
  - ä¸Šä¼ æ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…
  - ç”Ÿæˆå‘å¸ƒè¯´æ˜

### pr-check.ymlï¼ˆPR æ£€æŸ¥ï¼‰
- **è§¦å‘æ–¹å¼**ï¼š
  - Pull Request åˆ° main/master/dev åˆ†æ”¯
  - æ¨é€åˆ° main/master/dev åˆ†æ”¯
  
- **åŠŸèƒ½**ï¼š
  - æµ‹è¯•æ„å»ºæ˜¯å¦æˆåŠŸ
  - è¿›è¡Œç±»å‹æ£€æŸ¥
  - ä¸åˆ›å»º Release

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹å‘å¸ƒè¯´æ˜

ç¼–è¾‘ `.github/workflows/build.yml` ä¸­çš„ `releaseBody` éƒ¨åˆ†ï¼š

```yaml
releaseBody: |
  ## âœ¨ æ–°åŠŸèƒ½
  - ä½ çš„æ–°åŠŸèƒ½æè¿°
  
  ## ğŸ› Bug ä¿®å¤
  - ä¿®å¤çš„é—®é¢˜æè¿°
  
  ## ğŸ“¦ ä¸‹è½½è¯´æ˜
  ...
```

### ä¿®æ”¹æ„å»ºç›®æ ‡

å¦‚æœåªéœ€è¦ç‰¹å®šå¹³å°ï¼Œä¿®æ”¹ `matrix.platform`ï¼š

```yaml
strategy:
  matrix:
    platform: [windows-latest]  # åªæ„å»º Windows
```

### æ·»åŠ ä»£ç ç­¾å

è¯¦è§ `.github/RELEASE_GUIDE.md` ä¸­çš„é«˜çº§é…ç½®éƒ¨åˆ†ã€‚

## ğŸ› å¸¸è§é—®é¢˜

### 1. æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

- æŸ¥çœ‹ Actions æ—¥å¿—ï¼Œæ‰¾åˆ°å…·ä½“é”™è¯¯
- ç¡®ä¿æœ¬åœ°èƒ½æˆåŠŸæ„å»º
- æ£€æŸ¥æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ Rust å’Œ Node.js ç‰ˆæœ¬

### 2. æ‰¾ä¸åˆ° Release

- ç¡®ä¿æ ‡ç­¾æ ¼å¼ä¸º `v*`ï¼ˆå¦‚ `v1.0.0`ï¼‰
- æ£€æŸ¥ Actions æ˜¯å¦è¿è¡ŒæˆåŠŸ
- ç¡®è®¤æ²¡æœ‰æ„å»ºé”™è¯¯

### 3. æ„å»ºæ—¶é—´å¤ªé•¿

- é¦–æ¬¡æ„å»ºéœ€è¦ 20-30 åˆ†é’Ÿï¼ˆéœ€è¦å®‰è£…æ‰€æœ‰ä¾èµ–ï¼‰
- åç»­æ„å»ºä¼šå¿«å¾ˆå¤šï¼ˆæœ‰ç¼“å­˜ï¼‰
- å¯ä»¥è€ƒè™‘åªæ„å»ºå½“å‰å¹³å°è¿›è¡Œæµ‹è¯•

### 4. å¦‚ä½•åˆ é™¤é”™è¯¯çš„å‘å¸ƒ

```bash
# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v1.0.0

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin :refs/tags/v1.0.0

# åœ¨ GitHub Releases é¡µé¢æ‰‹åŠ¨åˆ é™¤ Release
```

## ğŸ“Š æ„å»ºçŠ¶æ€å¾½ç« 

å¯ä»¥åœ¨ README.md ä¸­æ·»åŠ æ„å»ºçŠ¶æ€å¾½ç« ï¼š

```markdown
![Build Status](https://github.com/ä½ çš„ç”¨æˆ·å/MAALogAnalyzer/workflows/è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ/badge.svg)
```

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

1. **GITHUB_TOKEN**ï¼šè‡ªåŠ¨æä¾›ï¼Œæ— éœ€é…ç½®
2. **ä»£ç ç­¾åå¯†é’¥**ï¼šå¦‚éœ€é…ç½®ï¼Œä½¿ç”¨ GitHub Secrets
3. **ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯**ï¼šå¯†é’¥ã€è¯ä¹¦ç­‰

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/actions)
- [tauri-action ä»“åº“](https://github.com/tauri-apps/tauri-action)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)

## ğŸ’¡ æç¤º

- ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·
- å‘å¸ƒå‰æœ¬åœ°æµ‹è¯•
- ä¿æŒç‰ˆæœ¬å·ä¸€è‡´
- ç¼–å†™æ¸…æ™°çš„æ›´æ–°æ—¥å¿—
- æµ‹è¯•ä¸‹è½½çš„å®‰è£…åŒ…

---

**ç°åœ¨å°±å¯ä»¥å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡è‡ªåŠ¨å‘å¸ƒäº†ï¼** ğŸ‰

```bash
git tag -a v1.0.0 -m "é¦–æ¬¡å‘å¸ƒ"
git push origin v1.0.0
```

